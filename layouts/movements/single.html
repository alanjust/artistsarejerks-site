{{ define "main" }}
<div class="movement-page">
    <div class="movement-content">
        <div class="movement-info">
            <h1 class="movement-title">{{ .Title }}</h1>
            <p class="movement-description">{{ .Params.description }}</p>
        </div>

        {{ .Content }}

        <div class="featured-artists">
            <h2>Featured Artists</h2>
            <div class="artists-grid">
                {{ $movementSlug := .Params.slug }}
                {{ range where .Site.Pages "Section" "artists" }}
                    {{ if eq .Params.movement $movementSlug }}
                    {{ $movementColor := "#f8f9fa" }}
                    {{ range $.Site.Data.art_history_movements }}
                        {{ if eq .Slug $movementSlug }}
                            {{ $movementColor = index . "Bkgd Color" }}
                        {{ end }}
                    {{ end }}
                    <div class="artist-card" {{ if $movementColor }}style="background-color: {{ $movementColor }}"{{ else }}style="background-color: #f8f9fa"{{ end }}>
                        <a href="{{ .RelPermalink }}" class="artist-link">
                            <div class="artist-card-header">
                                <h3 class="artist-name">{{ .Title }}</h3>
                                <p class="notable-work">{{ .Params.artwork_title }}</p>
                            </div>
                            {{ if .Params.notable_artwork }}
                            <div class="artist-image">
                                <img src="{{ .Params.notable_artwork }}" alt="{{ .Title }}" />
                            </div>
                            {{ end }}
                        </a>
                    </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>
    </div>
</div>

<style>
.movement-page {
    max-width: 780px;
    margin: 0 auto;
    padding: 20px;
    font-family: "Averia Sans Libre", sans-serif;
}

.breadcrumb {
    font-family: "Averia Sans Libre", sans-serif;
    font-weight: 400;
    font-size: 14px;
    color: #111;
}

.breadcrumb a {
    color: #d35400; /* Orange to match theme */
    text-decoration: none;
}

.breadcrumb a:hover {
    text-decoration: underline;
    color: #d35400;
}

.movement-info {
    text-align: center;
    margin-bottom: 40px;
}

.movement-title {
    font-family: "Averia Sans Libre", sans-serif;
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0 0 15px 0;
    color: #1a1a1a;
}

.movement-description {
    font-family: "Averia Sans Libre", sans-serif;
    font-weight: 400;
    font-size: 1.1rem;
    color: #111;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Removed .movement-overview styles */

.movement-overview h2 {
    font-family: "Averia Sans Libre", sans-serif;
    font-weight: 600;
    color: #1a1a1a;
    margin-top: 25px;
    margin-bottom: 15px;
}

.featured-artists h2 {
    font-family: "Averia Sans Libre", sans-serif;
    font-weight: 600;
    font-size: 1.75rem;
    margin-bottom: 25px;
    color: #1a1a1a;
    text-align: center;
}

.artists-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.artist-card {
    border-radius: 12px;
    padding: 20px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border: 3px solid #111;
}

.artist-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.artist-link {
    text-decoration: none;
    color: inherit;
    display: block;
}

.artist-card-header {
    margin-bottom: 15px;
}

.artist-name {
    font-family: "Averia Sans Libre", sans-serif;
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0 0 5px 0;
    color: #d35400;
}

.notable-work {
    font-family: "Averia Sans Libre", sans-serif;
    font-weight: 400;
    font-size: 0.9rem;
    color: #111;
    margin: 0;
    font-style: italic;
}

.artist-image {
    width: 100%;
    height: 200px;
    overflow: hidden;
    border-radius: 8px;
}

.artist-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

@media (max-width: 768px) {
    .movement-title {
        font-size: 2rem;
    }
    
    .movement-description {
        height: auto !important;
        max-height: none !important;
        overflow: visible !important;
        text-overflow: unset !important;
        white-space: normal !important;
        display: block !important;
        -webkit-line-clamp: unset !important;
        -webkit-box-orient: unset !important;
        line-clamp: unset !important;
    }
    
    .artists-grid {
        grid-template-columns: 1fr;
    }
}
</style>
{{ end }}
