{{ define "main" }}
<div class="movements-page">
    <div class="page-header">
        <h1>Art Movements</h1>
        <p>Explore 19 major art movements that shaped contemporary culture from the 1960s to today.</p>
    </div>

    <div class="movements-grid">
        {{/* Define the chronological order from the art wheel */}}
        {{ $movementOrder := slice 
            "pop-art"
            "minimalism" 
            "conceptual-art"
            "performance-art"
            "land-art-earthworks"
            "photorealism"
            "postminimalism"
            "neo-expressionism"
            "appropriation-art"
            "street-art-graffiti-art"
            "young-british-artists-ybas"
            "installation-art"
            "digital-art-new-media-art"
            "relational-aesthetics"
            "social-practice-art"
            "contemporary-indigenous-art"
            "bio-art"
            "post-internet-art"
            "ai-and-algorithmic-art"
        }}
        
        {{/* Create a map of movements by slug for easy lookup */}}
        {{ $movementsBySlug := dict }}
        {{ range where .Site.RegularPages "Section" "movements" }}
            {{ $movementsBySlug = $movementsBySlug | merge (dict .Params.slug .) }}
        {{ end }}
        
        {{/* Display movements in the correct chronological order */}}
        {{ range $movementOrder }}
            {{ $movement := index $movementsBySlug . }}
            {{ if $movement }}
            {{ $bgColor := $movement.Params.background_color | default "#f8f9fa" }}
            <div class="movement-card" style="--bg-color: {{ $bgColor }};">
                <a href="{{ $movement.RelPermalink }}" class="movement-link">
                    <h2 class="movement-title">{{ $movement.Title }}</h2>
                    <p class="movement-description">{{ $movement.Params.description }}</p>
                    <div class="movement-artists">
                        {{/* Find artists for this movement */}}
                        {{ $movementSlug := . }}
                        {{ $artists := slice }}
                        {{ range $.Site.Data.artists }}
                            {{ if eq (index . "Related Art Movement") $movementSlug }}
                                {{ $artists = $artists | append (index . "Artist Name") }}
                            {{ end }}
                        {{ end }}
                        
                        {{/* Display the artists */}}
                        {{ if $artists }}
                            {{ range $artists }}
                                <div class="artist-name">{{ . }}</div>
                            {{ end }}
                        {{ end }}
                    </div>
                </a>
            </div>
            {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}
