<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{{ .Title }}</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Averia+Sans+Libre:wght@400;700&family=Spicy+Rice&display=swap"
        rel="stylesheet">

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => navigator.serviceWorker.register('/assets/js/sw.js'));
        }
    </script>

    <style>
        /* Exact match to experimental page */
        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            overflow: hidden;
        }

        :root {
            --max-art-w: 1440px;
            --nudge: 80;
            --bar-pad: 12px;
            --bar-bg: rgba(0, 0, 0, 0.06);
        }

        body {
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100svh;
            background: #fff;
            color: #111;
            font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
            margin: 0;
            padding: 0;
        }

        .site-header,
        .site-footer {
            padding: var(--bar-pad) clamp(12px, 4vw, 24px);
            background: var(--bar-bg);
            backdrop-filter: saturate(1.1);
        }

        /* Override Hugo header/footer complexity */
        .site-header {
            background: var(--bar-bg) !important;
            height: auto !important;
            border: none !important;
        }
        
        .site-footer {
            background: var(--bar-bg) !important;
            height: auto !important;
        }

        /* Make main behave exactly like experimental page */
        .main-content {
            /* Remove all positioning - let it be a simple grid item */
        }

        @media (max-width: 700px) {
            :root {
                --bar-pad: 8px;
            }
        }

        @media (min-height: 900px) {
            :root {
                --bar-pad: 16px;
            }
        }
    </style>
</head>

<body>
    {{ partial "header.html" . }}

    <main class="main-content">
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    {{ block "footer-scripts" . }}{{ end }}
</body>

</html>